{% extends "layout/base.html" %}
{% block content %}
<div class="chat-container">
  <div class="chat-header">
    <h3>{{ friend }}</h3>
    <span id="userStatus"></span>
  </div>

  <div id="messages" class="chat-box">
    {% for sender, text, status in messages %}
    <div class="msg {{ 'me' if sender==session['user'] else 'them' }}">
      <span>{{ text }}</span>
      {% if sender==session['user'] %}<small class="seen">{{ status }}</small>{% endif %}
    </div>
    {% endfor %}
  </div>

  <div id="typing"></div>

  <div class="chat-form">
    <input id="messageInput" placeholder="Type message...">
    <button onclick="sendMessage()">Send</button>
    <button onclick="startRecording()">ğŸ¤</button>
  </div>
</div>

<script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
<script src="/static/js/chat.js"></script>
{% endblock %}
