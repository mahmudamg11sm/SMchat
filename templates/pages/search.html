{% extends "layout/base.html" %}
{% block content %}

<div class="chat-header">
  <strong>{{ other.username }}</strong>
  {% if other.is_admin %}
    <span class="badge admin">ADMIN</span>
  {% endif %}
</div>

<div class="chat-box" id="chatBox">
  {% for m in messages %}
    <div class="{% if m.author_id == current_user.id %}me{% else %}them{% endif %}">
      {{ m.content }}
      {% if m.author_id == current_user.id %}
        <span class="seen">✓✓</span>
      {% endif %}
    </div>
  {% endfor %}
</div>

<form method="post" class="chat-form">
  <input type="text" name="text" placeholder="Type a message…" required>
  <button type="submit">Send</button>
</form>

<div id="typing">typing…</div>

<script src="/static/js/chat.js"></script>
{% endblock %}
